# NotaSpace iOS

iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è NotaSpace - —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –∞–Ω–∞–ª–æ–≥–∞ Notion.

## –û–ø–∏—Å–∞–Ω–∏–µ

–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è iOS, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –Ω–∞ Swift —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SwiftUI. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç REST API –∏–∑ –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫**: Swift 5.0+
- **UI Framework**: SwiftUI
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è iOS**: 15.0
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: MVVM (Model-View-ViewModel)
- **–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
NotaSpace/
‚îú‚îÄ‚îÄ Sources/
‚îÇ   ‚îú‚îÄ‚îÄ Models/          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ ViewModels/      # ViewModels –¥–ª—è MVVM
‚îÇ   ‚îú‚îÄ‚îÄ Views/           # SwiftUI Views
‚îÇ   ‚îú‚îÄ‚îÄ Network/         # –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π (API Client)
‚îÇ   ‚îî‚îÄ‚îÄ Services/        # –°–µ—Ä–≤–∏—Å—ã (Keychain, –∏ —Ç.–¥.)
‚îú‚îÄ‚îÄ Resources/
‚îÇ   ‚îú‚îÄ‚îÄ Assets.xcassets  # –†–µ—Å—É—Ä—Å—ã (–∏–∫–æ–Ω–∫–∏, —Ü–≤–µ—Ç–∞)
‚îÇ   ‚îî‚îÄ‚îÄ Info.plist       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ NotaSpace.xcodeproj  # Xcode –ø—Ä–æ–µ–∫—Ç
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Xcode 15.0 –∏–ª–∏ –Ω–æ–≤–µ–µ
- iOS 15.0+ (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)
- macOS –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode:
   ```bash
   cd mobile/ios
   open NotaSpace.xcodeproj
   ```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Bundle Identifier:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Xcode
   - –í—ã–±–µ—Ä–∏—Ç–µ target "NotaSpace"
   - –í —Ä–∞–∑–¥–µ–ª–µ "Signing & Capabilities" –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à Team –∏ Bundle Identifier

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API endpoint (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `http://localhost:85/api` –¥–ª—è Debug
   - –î–ª—è Production –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `https://notaspace.ru/api`
   - –ò–∑–º–µ–Ω–∏—Ç—å –º–æ–∂–Ω–æ –≤ —Ñ–∞–π–ª–µ `Sources/Network/APIClient.swift`

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   - –ù–∞–∂–º–∏—Ç–µ ‚åòR –∏–ª–∏ –∫–Ω–æ–ø–∫—É "Run"

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### API Base URL

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:
- **Development (Debug)**: `http://localhost:85/api`
- **Production (Release)**: `https://notaspace.ru/api`

–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ `Sources/Network/APIClient.swift` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `baseURL`.

### App Transport Security

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å localhost –≤ Debug —Ä–µ–∂–∏–º–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω App Transport Security –≤ `Info.plist`. –î–ª—è Production —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (MVVM + SwiftUI)
- ‚úÖ –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π (API Client —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫)
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–≤—Ö–æ–¥, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—ã—Ö–æ–¥)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ Keychain
- ‚úÖ –ë–∞–∑–æ–≤—ã–π UI (—ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞, –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å —Ç–∞–±–∞–º–∏)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ SwiftUI)

### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API endpoints (—Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∑–∞–¥–∞—á–∏, workspace)
- üîÑ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket
- üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- üîÑ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## API Endpoints

–í—Å–µ API endpoints –æ–ø–∏—Å–∞–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `../web/routes/api.php` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Laravel Sanctum —Ç–æ–∫–µ–Ω—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

- `POST /api/login` - –í—Ö–æ–¥ –ø–æ email –∏ –ø–∞—Ä–æ–ª—é
- `POST /api/login-by-code` - –í—Ö–æ–¥ –ø–æ –∫–æ–¥—É
- `POST /api/sign-up` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /api/logout` - –í—ã—Ö–æ–¥
- `GET /api/page/{uuid}` - –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
- `GET /api/workspaces` - –°–ø–∏—Å–æ–∫ workspace
- –ò –¥—Ä—É–≥–∏–µ...

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### MVVM (Model-View-ViewModel)

- **Model**: –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö (`User`, `AuthResponse`, –∏ —Ç.–¥.)
- **View**: SwiftUI Views (`LoginView`, `HomeView`, –∏ —Ç.–¥.)
- **ViewModel**: `@ObservableObject` –∫–ª–∞—Å—Å—ã, —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (`AuthViewModel`)

### –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π

- `APIClient`: –ë–∞–∑–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `AuthService`: –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

- `KeychainService`: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Keychain

## –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É –∏–∑ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- **Primary**: `#0275DE` (—Å–∏–Ω–∏–π)
- **Background Light**: `#EAEEF9`
- **Background Dark**: `#252732`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ View –≤ `Sources/Views/`
2. –°–æ–∑–¥–∞–π—Ç–µ ViewModel –≤ `Sources/ViewModels/` (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é –≤ `MainTabView` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —ç–∫—Ä–∞–Ω

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö API endpoints

1. –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Service (–Ω–∞–ø—Ä–∏–º–µ—Ä, `AuthService`)
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `APIClient.shared.request()` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞
3. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –≤ `Sources/Models/` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–º—É–ª—è—Ç–æ—Ä –∏–ª–∏ —Ä–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- –í–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- API endpoint –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤—Ä—É—á–Ω—É—é, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Xcode –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Xcode (File ‚Üí Add Files to "NotaSpace")

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API endpoints –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü
2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏ (Kanban, List)
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –°—Ç–∞—Ç—É—Å

üöß –í –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## –ê–≤—Ç–æ—Ä

–°–æ–∑–¥–∞–Ω–æ: 2025-01-24
