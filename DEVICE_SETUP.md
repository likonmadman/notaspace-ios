# Запуск на реальном iPhone

## Подключение iPhone

1. **Подключите iPhone к Mac через USB кабель**
2. **Разблокируйте iPhone** и подтвердите доверие к компьютеру (если появится запрос)

## Настройка в Xcode

### 1. Настройка Signing

1. Откройте проект в Xcode
2. Выберите проект "NotaSpace" в навигаторе (синяя иконка)
3. Выберите target "NotaSpace"
4. Перейдите на вкладку **"Signing & Capabilities"**
5. Поставьте галочку **"Automatically manage signing"**
6. Выберите ваш **Team**:
   - Если есть Apple Developer аккаунт - выберите его
   - Если нет - выберите **"Personal Team"** (нужен Apple ID)
   - Если нет Apple ID - создайте его (бесплатно)

### 2. Выбор устройства

1. Вверху Xcode, рядом с кнопкой "Run" (▶️)
2. Выберите ваш подключенный iPhone из списка устройств
3. Должно появиться что-то вроде "Ivan's iPhone" или название вашего устройства

### 3. Доверие сертификату на iPhone

При первом запуске на iPhone:

1. На iPhone откройте **Настройки** → **Основные** → **VPN и управление устройством**
2. Найдите профиль разработчика (ваше имя или "Apple Development")
3. Нажмите на него и выберите **"Доверять"**
4. Подтвердите доверие

### 4. Запуск приложения

1. В Xcode нажмите **⌘R** или кнопку **"Run"** (▶️)
2. Приложение установится и запустится на iPhone

## ⚠️ Важно: Настройка API для реального устройства

На реальном iPhone `localhost` не работает! Нужно использовать **IP-адрес вашего Mac**.

### Как узнать IP-адрес Mac:

1. Откройте **Системные настройки** → **Сеть**
2. Или выполните в терминале:
   ```bash
   ifconfig | grep "inet " | grep -v 127.0.0.1
   ```
3. Найдите IP-адрес (обычно начинается с `192.168.` или `10.`)

### Обновление APIClient

1. Откройте файл `NotaSpace/Sources/Network/APIClient.swift`
2. Найдите строку с `baseURL` в секции `#if DEBUG`
3. Замените `localhost` на IP вашего Mac:
   ```swift
   self.baseURL = "http://192.168.1.141:85/api"  // Замените на ваш IP
   ```
4. Убедитесь, что iPhone и Mac в одной Wi-Fi сети

### Пример:

Если IP вашего Mac: `192.168.1.141`, то:
```swift
self.baseURL = "http://192.168.1.141:85/api"
```

## Проверка работы

1. Убедитесь, что веб-сервер запущен на Mac
2. Убедитесь, что iPhone и Mac в одной Wi-Fi сети
3. Попробуйте войти в приложении
4. Если не работает - проверьте IP-адрес и настройки файрвола

## Решение проблем

### Ошибка "Could not launch"
- Проверьте, что выбран правильный Team в Signing
- Убедитесь, что доверили сертификат на iPhone

### Ошибка подключения к API
- Проверьте IP-адрес Mac
- Убедитесь, что iPhone и Mac в одной сети
- Проверьте, что веб-сервер доступен по указанному адресу

### Приложение не устанавливается
- Проверьте, что iPhone разблокирован
- Убедитесь, что доверили сертификат разработчика
- Попробуйте перезапустить Xcode

